视图是数据的映射（单向数据流）
React 是一个视图层的框架，所谓视图层就是我们在网页上能看到的部分。在传统的方式中，我们通过编写HTML代码来设计网页的结构，通过 JavaScript 以及 getElementById 等 api 来获取某个节点，通过节点的 innerHTML，innerText，appendChild 等属性或者方法（或者你也可能用JQuery）来更新视图。

在 React 时代，你除了需要自己考虑网页的结构和CSS样式外，视图的更新 React 统统帮你搞定。

那么，用了 React 我们如何来更新视图呢，先看下面这个张图：



在 React 中视图是数据的映射，你想要视图发生变化，那你只要改变数据就好了，就是这么简单。

举个简单的例子，你打算在你的页面上展示用户的名片，名片上有照片、姓名、年龄、地址等基本信息，如下图所示：



这个名片，作为视图的一部分，在 React 中是由某个用户的数据映射而来的，可能长得像这样：

{
    photo: "my-photo.jpeg",
    name: "sarike",
    age: 18,
    address: "北京"
}
如果你希望网页的浏览者，可以切换查看不同用户的名片，你要做的只是用下一个用户的数据替换一下当前的数据就可以了。至于新的数据是如何替换掉页面上的旧数据的，就无需关心了，React 会以最高效的方式帮你完成。

这也就是所谓的单向数据流，在这种开发方式下，会让你更新视图的逻辑非常清晰、简单，哪怕你的前端交互很复杂，也不至于让你的代码那么容易变成一坨。

是不是很爽？

面向组件编程
上一部分说的 React 中更新视图只需要更新数据就可以了，如果你觉得也就一般般吧，那下面要说的一定爽到爆。

先说一下什么是组件，顾名思义，组件就是用来组合成更高级东西的物件。打个比方，比如一辆汽车，汽车中的各种螺丝、铁块等零件就可以看作是一个个组件，这些小的组件我们还可以继续组合，比如组合成发动机、轮胎、车架等有特定功能的组件，然后这些组件又可以继续组合成一辆完整的汽车。

对应到我们的前端开发中，HTML中的各种元素（如：div，table，input，select等）就是一个个最基本的组件，你可以把他们继续组合，组合成第一部分说的名片，或者一个填写用户信息的表单，展示所用用户的一个列表等有特定业务功能的组件，各种各样的业务组件最终组合成一个完整的前端页面。

组件最大的特点就是可以重复利用，比如说用户名片这个组件，你可以放到个人信息页面，也可以放到文章详情页面来展示作者信息，制作完成，到处利用。

言归正传，那在使用 React 是，是如何面向组件编程的呢，现在你可以这样来理解，React 提供了一种可以创造新的 HTML 标签的能力。

例如第一部分讲的用户名片的例子，通过 React 你可以制作这样一个组件：

<Card name="sarike" age="18" address="北京" />
而且更重要的是，你可以以如此简单的方式在你应用的任何位置重复利用。

你说，酷不酷，爽不爽？！！

至此以后，你在开发一个前端页面时，你需要做的就是将页面拆分成各种组件，然后把它们组合起来就好了。

在此想跟大家分享一点小经验，这也关系到你最终能不能将 React 用得很溜。就是：在前端开发过程中，要善于观察和抽象。尤其是在项目前期，不要着急写代码，一定观察项目的原型图或者设计稿，想想哪些部分是可以拆分成可以复用的公共组件的。这样做能让你后面的工作，事半功倍。

在后面的文章中你将更深入地体会到这一点，同时你也会体会到 React 的组件化开发，到底是多么多么的爽！！


React 第一印象
废话不多说，先看一段代码：

class HelloMessage extends React.Component {
  render() {
    return <div>Hello {this.props.name}</div>;
  }
}

ReactDOM.render(<HelloMessage name="John" />, mountNode);
这是从 React 官网首页粘贴过来的一段示例代码，简单解释一下，这段代码实现了一个名为 HelloMessage 的组件，它接收一个 name 属性，可以在页面上展示出 Hello xxx。ReactDOM.render 是用来将某个组件渲染到页面的某个 DOM 节点上。

在之后的文章中，我们会详细讲解如何创建 React 组件以及如何开发一个完整的 React 项目。现在，我更想跟大家探讨的是，你看了上述这段代码，算是对 React 有了第一印象，内心是怎样的感受？

我相信，很多人第一次看到这样的代码时的感受都是：“我擦，这是什么玩意儿，HTML怎么都写到JavaScript代码里去了，展示与业务逻辑分离，这都不懂？”，说实话，这就是我当时真实的内心感受。很幸运我坚持了下去，并一直用到现在，现在我对 React 的感受是：“我擦，好爽，好牛逼”。

刚开始有这种想法很好理解，好多人像我一样被“展示要与业务逻辑分离”这句话洗脑太久了，其实，这句话真正发挥价值的时候，是在 MVC 开发模式出现之前，那时候 web 程序逻辑很简单，可能页面开始处是连接数据库，查询数据，接在下面就是 HTML 代码来展示查询结果了。如果你了解一点 PHP，在 PHP 文件的开始处有个 <?php 结尾处可能有个 ?>，这就是那个年代用来分隔 PHP 代码和 HTML 代码的。但是随着 web 程序逻辑越来越复杂，业务逻辑代码跟 HTML 代码混到一起就变得越来越难以维护，所以就有了 MVC 开发模式。

并不是说现在“展示要与业务逻辑分离”这句话已经不适用于现在的 web开发，我想说的是，我们看问题，要回归问题的本质，我们要不要接受 React 的这种写法，判断依据应该是基于 React 的这种写法有没有让我们的前端代码变得更清晰、易维护性更强，而不是 JavaScript 中是不是写了类似于 HTML 语法的东西，千万不要为了分离而分离。

其实只是给JavaScript加了点糖 - JSX
上面这种在 JavaScript 中写类似 HMTL 代码的语法被称为 JSX。你可以理解为扩展版的 JavaScript。显然，这种语法在浏览器环境中是不能执行的，所以在代码加载到页面中之前，我们需要通过工具将它转译成标准的 JavaScript 语法，就像我们现在为什么可以用 ES6 的语法一样，尽管目前浏览器对它支持得还不好。例如下面这两段代码，实际上是等价的。

JSX 语法：

const element = (
  <h1 className="greeting">
    Hello, world!
  </h1>
);
由上面代码转译而来的标准 JavaScript 语法：

const element = React.createElement(
  'h1',
  {className: 'greeting'},
  'Hello, world!'
);
是不是感觉 JSX 语法更直观，写起来更简洁？所以说 JSX 实际上是 React.createElement(component, props, ...children) 的语法糖。

如果你熟悉 HTML，那么 JSX 对于你来说是没有任何压力的，因为 HTML 中的所有标签，在 JSX 中都是支持的，基本上没有学习成本，只有如下几点略微的不同：

class 属性变为 className
tabindex 属性变为 tabIndex
for 属性变为 htmlFor
textarea 的值通过需要通过 value 属性来指定
style 属性的值接收一个对象，css 的属性变为驼峰写法，如：backgroundColor。
在上一篇中，我们有提到组件，实际上，我们可以把在 JSX 中写的 HTML 标签看作是 React 内部已经实现了的基础组件。在下一篇中我将详细为大家介绍如何利用这些基础组件来创造一个新的组件，也就是上一篇提到的 React 所提供的创建一个新的 HTML 标签的能力。
